#!/usr/local/bin/ruby
# frozen_string_literal: true

$LOAD_PATH.unshift(File.expand_path('../lib', __dir__))

require 'shellwords'
require 'optparse'

require 'rspectre'

options = { rspec: %w[spec] }

OptionParser.new do |opts|
  opts.banner = "Usage: rspectre [options]"

  opts.on('--rspec RSPEC_ARGS', 'Arguments to feed to RSpec.') do |value|
    options[:rspec] = value.shellsplit
  end
end.parse(ARGV)

RSpectre::Runner.new(options.fetch(:rspec)).lint
